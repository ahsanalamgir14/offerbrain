"use strict";(self.webpackChunkfury=self.webpackChunkfury||[]).push([[645],{6044:(x,f,r)=>{r.d(f,{n:()=>y});var a=r(3668),d=r(515),c=r(4382),C=r(6019),g=r(9112);function h(m,s){if(1&m&&(a.TgZ(0,"div",7),a.TgZ(1,"mat-icon",5),a._uU(2,"chevron_right"),a.qZA(),a.TgZ(3,"div",6),a._uU(4),a.qZA(),a.qZA()),2&m){const u=s.$implicit;a.xp6(4),a.Oqu(u)}}const _=function(){return["/"]};let y=(()=>{class m{constructor(){this.crumbs=[]}ngOnInit(){}}return m.\u0275fac=function(u){return new(u||m)},m.\u0275cmp=a.Xpm({type:m,selectors:[["fury-breadcrumbs"]],inputs:{current:"current",crumbs:"crumbs"},decls:11,vars:5,consts:[[1,"title"],["fxLayout","row","fxLayoutAlign","start center",1,"crumbs"],[1,"crumb","home",3,"routerLink"],["class","crumb","fxLayout","row","fxLayoutAlign","start center",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"crumb","current"],[1,"chevron"],[1,"link"],["fxLayout","row","fxLayoutAlign","start center",1,"crumb"]],template:function(u,v){1&u&&(a.TgZ(0,"div",0),a._uU(1),a.qZA(),a.TgZ(2,"div",1),a.TgZ(3,"a",2),a._uU(4,"Home"),a.qZA(),a.YNc(5,h,5,1,"div",3),a.TgZ(6,"div",4),a.TgZ(7,"mat-icon",5),a._uU(8,"chevron_right"),a.qZA(),a.TgZ(9,"div",6),a._uU(10),a.qZA(),a.qZA(),a.qZA()),2&u&&(a.xp6(1),a.Oqu(v.current),a.xp6(2),a.Q6J("routerLink",a.DdM(4,_)),a.xp6(2),a.Q6J("ngForOf",v.crumbs),a.xp6(5),a.Oqu(v.current))},directives:[d.xw,d.Wh,c.yS,C.sg,g.Hw],styles:["[_nghost-%COMP%]{display:block}.title[_ngcontent-%COMP%]{font:var(--font-title);font-weight:400}.crumb[_ngcontent-%COMP%], .link[_ngcontent-%COMP%]{text-decoration:none;transition:color .4s cubic-bezier(.25,.8,.25,1);font:var(--font-body-1)}.link[_ngcontent-%COMP%]{cursor:pointer}.chevron[_ngcontent-%COMP%]{font-size:18px;height:18px;width:18px;margin-left:6px;margin-right:6px;-webkit-user-select:none;user-select:none;cursor:default}"]}),m})()},7635:(x,f,r)=>{r.d(f,{d:()=>d});var a=r(3668);let d=(()=>{class c{constructor(){}}return c.\u0275fac=function(g){return new(g||c)},c.\u0275dir=a.lG2({type:c,selectors:[["","furyPageLayoutContent",""],["fury-page-layout-content"]],hostAttrs:[1,"fury-page-layout-content"]}),c})()},1136:(x,f,r)=>{r.d(f,{N:()=>d});var a=r(3668);let d=(()=>{class c{constructor(){this.mode="simple"}get isCard(){return"card"===this.mode}get isSimple(){return"simple"===this.mode}}return c.\u0275fac=function(g){return new(g||c)},c.\u0275dir=a.lG2({type:c,selectors:[["","furyPageLayout",""],["fury-page-layout"]],hostAttrs:[1,"fury-page-layout"],hostVars:4,hostBindings:function(g,h){2&g&&a.ekj("fury-page-layout-card",h.isCard)("fury-page-layout-simple",h.isSimple)},inputs:{mode:"mode"}}),c})()},1645:(x,f,r)=>{r.r(f),r.d(f,{CustomersModule:()=>ft});var a=r(6019),d=r(9133),c=r(6113),C=r(4625),g=r(7794),h=r(4382),_=r(4762),y=r(2968),m=r(2262),s=r(240),u=r(5304),v=r(4099),t=r(3668),L=r(238);let D=(()=>{class o{constructor(e){this.apiService=e,this.customerDetailGetResponse=new v.X([]),this.customerDetailGetResponse$=this.customerDetailGetResponse.asObservable()}getCustomerDetail(e){return(0,_.mG)(this,void 0,void 0,function*(){return yield this.apiService.getData(`get_customer_detail?id=${e}`).then(n=>n.json()).then(n=>{this.details=n}),this.details})}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(L.s))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();var b=r(1136),A=r(7635),P=r(4643),T=r(9009),M=r(904);function J(o,i){1&o&&t._UZ(0,"mat-progress-bar",10)}function Q(o,i){1&o&&(t.TgZ(0,"th",11),t.TgZ(1,"mat-checkbox",12),t.NdJ("click",function(n){return n.stopPropagation()}),t.qZA(),t.qZA())}function w(o,i){1&o&&(t.TgZ(0,"td",13),t.TgZ(1,"mat-checkbox",12),t.NdJ("click",function(n){return n.stopPropagation()}),t.qZA(),t.qZA())}function R(o,i){if(1&o&&(t.TgZ(0,"th",18),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.name,"")}}function I(o,i){if(1&o&&t._uU(0),2&o){const e=t.oxw().$implicit,n=t.oxw(2).$implicit;t.AsE("",e[n.property].name,"/",e[n.property].email,"")}}function U(o,i){if(1&o&&t._uU(0),2&o){const e=t.oxw().$implicit,n=t.oxw(2).$implicit;t.Oqu(e[n.property])}}function Y(o,i){if(1&o&&(t.TgZ(0,"td",19),t.YNc(1,I,1,2,"ng-template",20),t.YNc(2,U,1,1,"ng-template",20),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf","creator"==e.property),t.xp6(1),t.Q6J("ngIf","creator"!=e.property)}}function B(o,i){if(1&o&&(t.ynx(0,15),t.YNc(1,R,2,1,"th",16),t.YNc(2,Y,3,2,"td",17),t.BQk()),2&o){const e=t.oxw().$implicit;t.Q6J("matColumnDef",e.property)}}function E(o,i){if(1&o&&(t.ynx(0),t.YNc(1,B,3,1,"ng-container",14),t.BQk()),2&o){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",e.isModelProperty)}}function F(o,i){1&o&&t._UZ(0,"tr",21)}function k(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"tr",22),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw().updateCustomer(p)}),t.qZA()}}let z=(()=>{class o{constructor(e,n,l){this.data=e,this.dialogRef=n,this.customersService=l,this.message="",this.isLoading=!1,this.cancelButtonText="Cancel",this.columns=[{name:"Creator Name/Email",property:"creator",visible:!0,isModelProperty:!0},{name:"Country",property:"country",visible:!0,isModelProperty:!0},{name:"City",property:"city",visible:!0,isModelProperty:!0},{name:"State",property:"state",visible:!0,isModelProperty:!0},{name:"Street",property:"street",visible:!0,isModelProperty:!0},{name:"Zip",property:"zip",visible:!0,isModelProperty:!0},{name:"Created At",property:"created_at",visible:!0,isModelProperty:!0}],e&&this.getData(e.id),this.dialogRef.updateSize("300vw","300vw")}get visibleColumns(){return this.columns.filter(e=>e.visible).map(e=>e.property)}getData(e){return(0,_.mG)(this,void 0,void 0,function*(){yield this.customersService.getCustomerDetail(e).then(n=>{this.details=n.data,this.address_data=n.address_data,this.dataSource.data=n.address_data,console.log(this.details),console.log(this.address_data)})})}onFilterChange(e){!this.dataSource||(e=(e=e.trim()).toLowerCase(),this.dataSource.filter=e)}ngOnInit(){this.dataSource=new s.by}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(u.WI),t.Y36(u.so),t.Y36(D))},o.\u0275cmp=t.Xpm({type:o,selectors:[["fury-customer-detail"]],inputs:{columns:"columns"},features:[t._Bn([D])],decls:11,vars:7,consts:[["mode","simple"],["name","Customers",3,"columns","filterChange"],["mode","indeterminate",4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","checkbox"],["class","actions-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],[4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["mode","indeterminate"],["mat-header-cell","",1,"actions-cell"],["color","primary",3,"click"],["mat-cell","",1,"actions-cell"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"ngIf"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"fury-page-layout",0),t.TgZ(1,"fury-page-layout-content"),t.TgZ(2,"fury-list",1),t.NdJ("filterChange",function(p){return n.onFilterChange(p)}),t.YNc(3,J,1,0,"mat-progress-bar",2),t.TgZ(4,"table",3),t.ynx(5,4),t.YNc(6,Q,2,0,"th",5),t.YNc(7,w,2,0,"td",6),t.BQk(),t.YNc(8,E,2,1,"ng-container",7),t.YNc(9,F,1,0,"tr",8),t.YNc(10,k,1,0,"tr",9),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Q6J("@fadeInUp",void 0),t.xp6(1),t.Q6J("columns",n.columns),t.xp6(1),t.Q6J("ngIf",n.isLoading),t.xp6(1),t.Q6J("dataSource",n.dataSource),t.xp6(4),t.Q6J("ngForOf",n.columns),t.xp6(1),t.Q6J("matHeaderRowDef",n.visibleColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.visibleColumns))},directives:[b.N,A.d,P.n,a.O5,s.BZ,m.YE,s.w1,s.fO,s.Dz,a.sg,s.as,s.nj,T.pW,s.ge,M.oG,s.ev,m.nU,s.XQ,s.Gk],styles:[""]}),o})();var G=r(9716),$=r(6044),S=r(86),Z=r(3530),O=r(9112);function H(o,i){1&o&&t._UZ(0,"mat-progress-bar",16)}function W(o,i){1&o&&(t.TgZ(0,"th",17),t.TgZ(1,"mat-checkbox",18),t.NdJ("click",function(n){return n.stopPropagation()}),t.qZA(),t.qZA())}function j(o,i){1&o&&(t.TgZ(0,"td",19),t.TgZ(1,"mat-checkbox",18),t.NdJ("click",function(n){return n.stopPropagation()}),t.qZA(),t.qZA())}function K(o,i){if(1&o&&(t.TgZ(0,"th",24),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.name,"")}}function X(o,i){if(1&o&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&o){const e=i.$implicit,n=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e[n.property]," ")}}function V(o,i){if(1&o&&(t.ynx(0,21),t.YNc(1,K,2,1,"th",22),t.YNc(2,X,2,1,"td",23),t.BQk()),2&o){const e=t.oxw().$implicit;t.Q6J("matColumnDef",e.property)}}function q(o,i){if(1&o&&(t.ynx(0),t.YNc(1,V,3,1,"ng-container",20),t.BQk()),2&o){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",e.isModelProperty)}}function tt(o,i){1&o&&t._UZ(0,"th",26)}function et(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"td",19),t.TgZ(1,"button",27),t.NdJ("click",function(l){return l.stopPropagation()}),t.TgZ(2,"mat-icon"),t._uU(3,"more_horiz"),t.qZA(),t.qZA(),t.TgZ(4,"mat-menu",28,29),t.TgZ(6,"button",30),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw().openDialog(p.id)}),t.TgZ(7,"span"),t._uU(8,"View Details"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.MAs(5);t.xp6(1),t.Q6J("matMenuTriggerFor",e)}}function ot(o,i){1&o&&t._UZ(0,"tr",31)}function nt(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"tr",32),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw().updateCustomer(p)}),t.qZA()}}const rt=[{path:"",component:(()=>{class o{constructor(e,n){this.dialog=e,this.customersService=n,this.isLoading=!1,this.totalRows=0,this.pageSize=25,this.currentPage=0,this.pageSizeOptions=[5,10,25,100],this.filters={},this.address=[],this.columns=[{name:"Checkbox",property:"checkbox",visible:!0},{name:"Customer Id",property:"id",visible:!0,isModelProperty:!0},{name:"Email",property:"email",visible:!0,isModelProperty:!0},{name:"First Name",property:"first_name",visible:!0,isModelProperty:!0},{name:"Last Name",property:"last_name",visible:!0,isModelProperty:!0},{name:"Phone",property:"phone",visible:!0,isModelProperty:!0},{name:"Actions",property:"actions",visible:!0}]}get visibleColumns(){return this.columns.filter(e=>e.visible).map(e=>e.property)}ngOnInit(){this.getSubscription=this.customersService.customersGetResponse$.subscribe(e=>this.manageGetResponse(e)),this.getData(),this.dataSource=new s.by}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}pageChanged(e){this.pageSize=e.pageSize,this.currentPage=e.pageIndex,this.getData()}getData(){return(0,_.mG)(this,void 0,void 0,function*(){this.isLoading=!0,this.filters={currentPage:this.currentPage,pageSize:this.pageSize},yield this.customersService.getCustomers(this.filters).then(e=>{this.customers=e.data,this.dataSource.data=e.data,console.log("Customers data is: ",e.data),setTimeout(()=>{this.paginator.pageIndex=this.currentPage,this.paginator.length=e.pag.count}),this.isLoading=!1},e=>{this.isLoading=!1})})}onFilterChange(e){!this.dataSource||(e=(e=e.trim()).toLowerCase(),this.dataSource.filter=e)}manageGetResponse(e){e.status?(this.customers=e.data,this.dataSource.data=e.data,setTimeout(()=>{this.paginator.pageIndex=this.currentPage,this.paginator.length=e.pag.count}),this.isLoading=!1):this.isLoading=!1}openDialog(e){this.dialog.open(z,{data:{id:e}}).afterClosed().subscribe(l=>{})}ngOnDestroy(){}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(u.uw),t.Y36(G.v))},o.\u0275cmp=t.Xpm({type:o,selectors:[["fury-customers"]],viewQuery:function(e,n){if(1&e&&(t.Gf(y.NW,7),t.Gf(m.YE,7)),2&e){let l;t.iGM(l=t.CRH())&&(n.paginator=l.first),t.iGM(l=t.CRH())&&(n.sort=l.first)}},inputs:{columns:"columns"},decls:18,vars:11,consts:[[1,"padding"],["current","Golden Ticket"],["mode","simple"],["name","Customers",3,"columns","filterChange"],["mode","indeterminate",4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","checkbox"],["class","actions-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["mode","indeterminate"],["mat-header-cell","",1,"actions-cell"],["color","primary",3,"click"],["mat-cell","",1,"actions-cell"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"actions-cell"],["type","button","mat-icon-button","",3,"matMenuTriggerFor","click"],["yPosition","below","xPosition","before"],["actionsMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"fury-breadcrumbs",1),t.qZA(),t.TgZ(2,"fury-page-layout",2),t.TgZ(3,"fury-page-layout-content"),t.TgZ(4,"fury-list",3),t.NdJ("filterChange",function(p){return n.onFilterChange(p)}),t.YNc(5,H,1,0,"mat-progress-bar",4),t.TgZ(6,"table",5),t.ynx(7,6),t.YNc(8,W,2,0,"th",7),t.YNc(9,j,2,0,"td",8),t.BQk(),t.YNc(10,q,2,1,"ng-container",9),t.ynx(11,10),t.YNc(12,tt,1,0,"th",11),t.YNc(13,et,9,1,"td",8),t.BQk(),t.YNc(14,ot,1,0,"tr",12),t.YNc(15,nt,1,0,"tr",13),t.qZA(),t.TgZ(16,"mat-paginator",14,15),t.NdJ("page",function(p){return n.pageChanged(p)}),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.Q6J("@fadeInUp",void 0),t.xp6(1),t.Q6J("columns",n.columns),t.xp6(1),t.Q6J("ngIf",n.isLoading),t.xp6(1),t.Q6J("dataSource",n.dataSource),t.xp6(4),t.Q6J("ngForOf",n.columns),t.xp6(4),t.Q6J("matHeaderRowDef",n.visibleColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.visibleColumns),t.xp6(1),t.Q6J("length",n.totalRows)("pageIndex",n.currentPage)("pageSize",n.pageSize)("pageSizeOptions",n.pageSizeOptions))},directives:[$.n,b.N,A.d,P.n,a.O5,s.BZ,m.YE,s.w1,s.fO,s.Dz,a.sg,s.as,s.nj,y.NW,T.pW,s.ge,M.oG,s.ev,m.nU,S.lW,Z.p6,O.Hw,Z.VK,Z.OP,s.XQ,s.Gk],styles:[""]}),o})()}];let at=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[h.Bz.forChild(rt)],h.Bz]}),o})();var it=r(9198),st=r(6153),ct=r(138),lt=r(9859),mt=r(6400),ut=r(8727),pt=r(6731),dt=r(3050),gt=r(8898);let ft=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[a.ez,at,d.u5,d.UX,g.q,it.Z,st.o9,u.Is,ct.c,S.ot,O.Ps,lt.Fk,mt.LD,ut.FA,pt.XK,dt.To,gt.IJ,C.p,c.J,s.p0,y.TU,T.Cv]]}),o})()}}]);