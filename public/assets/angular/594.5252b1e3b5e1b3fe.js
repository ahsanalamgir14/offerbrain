"use strict";(self.webpackChunkfury=self.webpackChunkfury||[]).push([[594],{1168:(h,c,n)=>{n.d(c,{M:()=>m});var r=n(9814);const m=(0,r.X$)("fadeInRight",[(0,r.eR)(":enter",[(0,r.oB)({transform:"translateX(-2vw)",opacity:0}),(0,r.jt)("0.4s cubic-bezier(0.35, 0, 0.25, 1)",(0,r.oB)({transform:"translateX(0)",opacity:1}))])])},9190:(h,c,n)=>{n.d(c,{X:()=>m});var r=n(9814);const m=(0,r.X$)("fadeInUp",[(0,r.eR)(":enter",[(0,r.oB)({transform:"translateY(3vh)",opacity:0}),(0,r.jt)("400ms cubic-bezier(0.35, 0, 0.25, 1)",(0,r.oB)({transform:"translateY(0)",opacity:1}))])])},5594:(h,c,n)=>{n.r(c),n.d(c,{SticketMonthlyModule:()=>at});var r=n(6019),m=n(9133),C=n(6113),S=n(4625),T=n(7794),g=n(4382),k=n(4762),u=n(2968),d=n(2262),l=n(240),Z=n(1168),x=n(9190),P=n(7182),t=n(3668),f=n(5304);let b=(()=>{class e{constructor(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var A=n(9978),D=n(6044),R=n(1136),N=n(7635),B=n(4643),y=n(9009),I=n(904),v=n(86),J=n(3530),M=n(9112);function Y(e,a){1&e&&t._UZ(0,"mat-progress-bar",19)}function Q(e,a){1&e&&(t.TgZ(0,"th",20),t.TgZ(1,"mat-checkbox",21),t.NdJ("click",function(i){return i.stopPropagation()}),t.qZA(),t.qZA())}function z(e,a){1&e&&(t.TgZ(0,"td",22),t.TgZ(1,"mat-checkbox",21),t.NdJ("click",function(i){return i.stopPropagation()}),t.qZA(),t.qZA())}function U(e,a){1&e&&t._UZ(0,"th",23)}function F(e,a){if(1&e&&(t.TgZ(0,"td",24),t._UZ(1,"img",25),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.MGl("src","http://i.pravatar.cc/30?u=",o.name,"",t.LSH)}}function G(e,a){if(1&e&&(t.TgZ(0,"th",30),t._uU(1),t.qZA()),2&e){const o=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",o.name,"")}}function O(e,a){if(1&e&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&e){const o=a.$implicit,i=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",o[i.property]," ")}}function L(e,a){if(1&e&&(t.ynx(0,27),t.YNc(1,G,2,1,"th",28),t.YNc(2,O,2,1,"td",29),t.BQk()),2&e){const o=t.oxw().$implicit;t.Q6J("matColumnDef",o.property)}}function H(e,a){if(1&e&&(t.ynx(0),t.YNc(1,L,3,1,"ng-container",26),t.BQk()),2&e){const o=a.$implicit;t.xp6(1),t.Q6J("ngIf",o.isModelProperty)}}function $(e,a){1&e&&t._UZ(0,"th",32)}function X(e,a){if(1&e&&(t.TgZ(0,"td",22),t.TgZ(1,"button",33),t.NdJ("click",function(i){return i.stopPropagation()}),t.TgZ(2,"mat-icon"),t._uU(3,"more_horiz"),t.qZA(),t.qZA(),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("matMenuTriggerFor",o.actionsMenu)}}function E(e,a){1&e&&t._UZ(0,"tr",34)}function _(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"tr",35),t.NdJ("click",function(){const p=t.CHM(o).$implicit;return t.oxw().updateCustomer(p)}),t.qZA()}}const j=[{path:"",component:(()=>{class e{constructor(o,i,s){this.dialog=o,this.goldenTicketService=i,this.campaignService=s,this.isLoading=!1,this.totalRows=0,this.pageSize=25,this.currentPage=0,this.pageSizeOptions=[5,10,25,100],this.filters={},this.notyf=new P.Iq,this.columns=[{name:"Checkbox",property:"checkbox",visible:!1},{name:"Month",property:"month",visible:!0,isModelProperty:!0},{name:"Initials",property:"initilas",visible:!0,isModelProperty:!0},{name:"Rebills",property:"rebills",visible:!0,isModelProperty:!0},{name:"Cycle 1 %",property:"cycle_1_per",visible:!0,isModelProperty:!0},{name:"AVG Day %",property:"avg_per",visible:!0,isModelProperty:!0},{name:"% Filled",property:"filled_per",visible:!0,isModelProperty:!0},{name:"Avg Ticket",property:"avg_ticket",visible:!0,isModelProperty:!0},{name:"Revenue",property:"revenue",visible:!0,isModelProperty:!0},{name:"Refund",property:"refund",visible:!0,isModelProperty:!0},{name:"Refund Rate",property:"refund_rate",visible:!0,isModelProperty:!0},{name:"CBs",property:"CBs",visible:!0,isModelProperty:!0},{name:"CB %",property:"CB_per",visible:!0,isModelProperty:!0},{name:"CB $",property:"CB_currency",visible:!0,isModelProperty:!0},{name:"Fulfillment",property:"fulfillment",visible:!0,isModelProperty:!0},{name:"Processing",property:"processing",visible:!0,isModelProperty:!0},{name:"CPA",property:"cpa",visible:!0,isModelProperty:!0},{name:"CPA AVG",property:"cpa_avg",visible:!0,isModelProperty:!0},{name:"Net",property:"net",visible:!0,isModelProperty:!0},{name:"CLV",property:"clv",visible:!0,isModelProperty:!0}]}get visibleColumns(){return this.columns.filter(o=>o.visible).map(o=>o.property)}ngOnInit(){this.getSubscription=this.campaignService.sticketMonthlyResponse$.subscribe(o=>this.manageGetResponse(o)),this.getData(),this.dataSource=new l.by}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}pageChanged(o){this.pageSize=o.pageSize,this.currentPage=o.pageIndex,this.getData()}getData(){return(0,k.mG)(this,void 0,void 0,function*(){this.isLoading=!0,yield this.campaignService.getMonthlySticket().then(o=>{this.tickets=o.data,this.dataSource.data=o.data,setTimeout(()=>{}),this.isLoading=!1},o=>{this.isLoading=!1})})}manageGetResponse(o){o.status?(this.tickets=o.data,this.dataSource.data=o.data,setTimeout(()=>{}),this.isLoading=!1):this.isLoading=!1}onFilterChange(o){!this.dataSource||(o=(o=o.trim()).toLowerCase(),this.dataSource.filter=o)}ngOnDestroy(){}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(f.uw),t.Y36(b),t.Y36(A.U))},e.\u0275cmp=t.Xpm({type:e,selectors:[["fury-sticket-monthly"]],viewQuery:function(o,i){if(1&o&&(t.Gf(u.NW,7),t.Gf(d.YE,7)),2&o){let s;t.iGM(s=t.CRH())&&(i.paginator=s.first),t.iGM(s=t.CRH())&&(i.sort=s.first)}},inputs:{columns:"columns"},decls:21,vars:11,consts:[[1,"padding"],["current","Golden STicket (Monthly)"],["mode","simple"],["name","Golden STicket (Monthly)",3,"columns","filterChange"],["mode","indeterminate",4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","checkbox"],["class","actions-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],["matColumnDef","image"],["class","image-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","image-cell","mat-cell","",4,"matCellDef"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["mode","indeterminate"],["mat-header-cell","",1,"actions-cell"],["color","primary",3,"click"],["mat-cell","",1,"actions-cell"],["mat-header-cell","",1,"image-cell"],["mat-cell","",1,"image-cell"],[3,"src"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"actions-cell"],["type","button","mat-icon-button","",3,"matMenuTriggerFor","click"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements",3,"click"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t._UZ(1,"fury-breadcrumbs",1),t.qZA(),t.TgZ(2,"fury-page-layout",2),t.TgZ(3,"fury-page-layout-content"),t.TgZ(4,"fury-list",3),t.NdJ("filterChange",function(p){return i.onFilterChange(p)}),t.YNc(5,Y,1,0,"mat-progress-bar",4),t.TgZ(6,"table",5),t.ynx(7,6),t.YNc(8,Q,2,0,"th",7),t.YNc(9,z,2,0,"td",8),t.BQk(),t.ynx(10,9),t.YNc(11,U,1,0,"th",10),t.YNc(12,F,2,1,"td",11),t.BQk(),t.YNc(13,H,2,1,"ng-container",12),t.ynx(14,13),t.YNc(15,$,1,0,"th",14),t.YNc(16,X,4,1,"td",8),t.BQk(),t.YNc(17,E,1,0,"tr",15),t.YNc(18,_,1,0,"tr",16),t.qZA(),t.TgZ(19,"mat-paginator",17,18),t.NdJ("page",function(p){return i.pageChanged(p)}),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(3),t.Q6J("@fadeInUp",void 0),t.xp6(1),t.Q6J("columns",i.columns),t.xp6(1),t.Q6J("ngIf",i.isLoading),t.xp6(1),t.Q6J("dataSource",i.dataSource),t.xp6(7),t.Q6J("ngForOf",i.columns),t.xp6(4),t.Q6J("matHeaderRowDef",i.visibleColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.visibleColumns),t.xp6(1),t.Q6J("length",i.totalRows)("pageIndex",i.currentPage)("pageSize",i.pageSize)("pageSizeOptions",i.pageSizeOptions))},directives:[D.n,R.N,N.d,B.n,r.O5,l.BZ,d.YE,l.w1,l.fO,l.Dz,r.sg,l.as,l.nj,u.NW,y.pW,l.ge,I.oG,l.ev,d.nU,v.lW,J.p6,M.Hw,l.XQ,l.Gk],styles:[""],data:{animation:[Z.M,x.X]}}),e})()}];let W=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[g.Bz.forChild(j)],g.Bz]}),e})();var V=n(9198),K=n(6153),w=n(138),q=n(9859),tt=n(6400),et=n(8727),ot=n(6731),nt=n(3050),it=n(8898);let at=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[r.ez,W,m.u5,m.UX,T.q,V.Z,K.o9,f.Is,w.c,v.ot,M.Ps,q.Fk,tt.LD,et.FA,ot.XK,nt.To,it.IJ,S.p,C.J,l.p0,u.TU,y.Cv]]}),e})()}}]);