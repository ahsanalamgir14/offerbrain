"use strict";(self.webpackChunkfury=self.webpackChunkfury||[]).push([[470],{7835:(st,h,n)=>{n.r(h),n.d(h,{AffiliatesModule:()=>ot});var c=n(6019),Z=n(6153),g=n(9133),A=n(86),S=n(6731),D=n(8727),v=n(5304),M=n(3050),C=n(9112),J=n(138),m=n(2968),y=n(9009),N=n(9859),Q=n(6400),l=n(240),R=n(8898),b=n(9198),z=n(6113),F=n(4625),P=n(7615),x=n(4382),f=n(4762),d=n(2262),I=n(1168),Y=n(9190),O=n(5351),G=n(7182),t=n(3668),T=n(4099),H=n(238);let U=(()=>{class i{constructor(e){this.apiService=e,this.customersGetResponse=new T.X([]),this.deleteResponse=new T.X([]),this.customersGetResponse$=this.customersGetResponse.asObservable(),this.deleteResponse$=this.deleteResponse.asObservable()}getAffiliates(){return(0,f.mG)(this,void 0,void 0,function*(){return yield this.apiService.getData("affiliates").then(e=>e.json()).then(e=>{this.networks=e}),this.networks})}deleteData(e){return(0,f.mG)(this,void 0,void 0,function*(){yield this.apiService.getData(`destroy_customers?id=${e}`).then(o=>o.json()).then(o=>{this.deleteResponse.next(o)})})}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(H.s))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var B=n(1136),$=n(7635),L=n(4643),j=n(904),p=n(3530);function w(i,a){1&i&&t._UZ(0,"mat-progress-bar",14)}function X(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"th",15),t.TgZ(1,"mat-checkbox",16),t.NdJ("change",function(s){t.CHM(e);const r=t.oxw();return s?r.masterToggle(s):null}),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function k(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"td",17),t.TgZ(1,"mat-checkbox",18),t.NdJ("click",function(s){return s.stopPropagation()})("change",function(s){const u=t.CHM(e).$implicit,at=t.oxw();return s?at.selectToggle(s,u.id):null}),t.qZA(),t.qZA()}if(2&i){const e=a.$implicit,o=t.oxw();t.xp6(1),t.Q6J("checked",o.selection.isSelected(e))}}function E(i,a){if(1&i&&(t.TgZ(0,"th",23),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.name,"")}}function V(i,a){if(1&i&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&i){const e=a.$implicit,o=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e[o.property]," ")}}function W(i,a){if(1&i&&(t.ynx(0,20),t.YNc(1,E,2,1,"th",21),t.YNc(2,V,2,1,"td",22),t.BQk()),2&i){const e=t.oxw().$implicit;t.Q6J("matColumnDef",e.property)}}function K(i,a){if(1&i&&(t.ynx(0),t.YNc(1,W,3,1,"ng-container",19),t.BQk()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",e.isModelProperty)}}function _(i,a){1&i&&t._UZ(0,"th",25)}function q(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"td",17),t.TgZ(1,"button",26),t.NdJ("click",function(s){return s.stopPropagation()}),t.TgZ(2,"mat-icon"),t._uU(3,"more_horiz"),t.qZA(),t.qZA(),t.TgZ(4,"mat-menu",27,28),t.TgZ(6,"button",29),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().openDialog(r.id)}),t.TgZ(7,"span"),t._uU(8,"View Details"),t.qZA(),t.qZA(),t.TgZ(9,"button",29),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().handleDeleteAction(r.id)}),t.TgZ(10,"span"),t._uU(11,"Delete"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.MAs(5);t.xp6(1),t.Q6J("matMenuTriggerFor",e)}}function tt(i,a){1&i&&t._UZ(0,"tr",30)}function et(i,a){1&i&&t._UZ(0,"tr",31)}const it=[{path:"",component:(()=>{class i{constructor(e,o){this.dialog=e,this.affiliatesService=o,this.isLoading=!1,this.totalRows=0,this.pageSize=25,this.currentPage=1,this.pageSizeOptions=[5,10,25,100],this.filters={},this.address=[],this.search="",this.notyf=new G.Iq,this.idArray=[],this.allIdArray=[],this.isChecked=!1,this.columns=[{name:"Checkbox",property:"checkbox",visible:!0},{name:"Affiliate Id",property:"id",visible:!0,isModelProperty:!0},{name:"Email",property:"email",visible:!0,isModelProperty:!0},{name:"First Name",property:"first_name",visible:!0,isModelProperty:!0},{name:"Last Name",property:"last_name",visible:!0,isModelProperty:!0},{name:"Phone",property:"phone",visible:!0,isModelProperty:!0},{name:"Actions",property:"actions",visible:!0}],this.selection=new O.Ov(!0,[])}get visibleColumns(){return this.columns.filter(e=>e.visible).map(e=>e.property)}ngOnInit(){this.getData(),this.dataSource=new l.by}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}pageChanged(e){this.pageSize=e.pageSize,this.currentPage=e.pageIndex,this.getData()}getData(){return(0,f.mG)(this,void 0,void 0,function*(){this.isLoading=!0,this.isChecked=!1,this.filters={currentPage:this.currentPage,pageSize:this.pageSize,search:this.search},yield this.affiliatesService.getAffiliates().then(e=>{this.allIdArray=[],this.networks=e.data,this.dataSource.data=e.data,setTimeout(()=>{}),this.isLoading=!1},e=>{this.isLoading=!1})})}onFilterChange(e){!this.dataSource||(e=(e=e.trim()).toLowerCase(),this.dataSource.filter=e)}ngOnDestroy(){}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(v.uw),t.Y36(U))},i.\u0275cmp=t.Xpm({type:i,selectors:[["fury-affiliates"]],viewQuery:function(e,o){if(1&e&&(t.Gf(m.NW,7),t.Gf(d.YE,7)),2&e){let s;t.iGM(s=t.CRH())&&(o.paginator=s.first),t.iGM(s=t.CRH())&&(o.sort=s.first)}},inputs:{columns:"columns"},decls:16,vars:11,consts:[["mode","simple"],["name","Affiliates",3,"columns","filterChange"],["mode","indeterminate",4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","checkbox"],["class","actions-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["mode","indeterminate"],["mat-header-cell","",1,"actions-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"actions-cell"],["color","primary",3,"checked","click","change"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"actions-cell"],["type","button","mat-icon-button","",3,"matMenuTriggerFor","click"],["yPosition","below","xPosition","before"],["actionsMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements"]],template:function(e,o){1&e&&(t.TgZ(0,"fury-page-layout",0),t.TgZ(1,"fury-page-layout-content"),t.TgZ(2,"fury-list",1),t.NdJ("filterChange",function(r){return o.onFilterChange(r)}),t.YNc(3,w,1,0,"mat-progress-bar",2),t.TgZ(4,"table",3),t.ynx(5,4),t.YNc(6,X,2,2,"th",5),t.YNc(7,k,2,1,"td",6),t.BQk(),t.YNc(8,K,2,1,"ng-container",7),t.ynx(9,8),t.YNc(10,_,1,0,"th",9),t.YNc(11,q,12,1,"td",6),t.BQk(),t.YNc(12,tt,1,0,"tr",10),t.YNc(13,et,1,0,"tr",11),t.qZA(),t.TgZ(14,"mat-paginator",12,13),t.NdJ("page",function(r){return o.pageChanged(r)}),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Q6J("@fadeInRight]",void 0),t.xp6(1),t.Q6J("columns",o.columns),t.xp6(1),t.Q6J("ngIf",o.isLoading),t.xp6(1),t.Q6J("dataSource",o.dataSource),t.xp6(4),t.Q6J("ngForOf",o.columns),t.xp6(4),t.Q6J("matHeaderRowDef",o.visibleColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.visibleColumns),t.xp6(1),t.Q6J("length",o.totalRows)("pageIndex",o.currentPage)("pageSize",o.pageSize)("pageSizeOptions",o.pageSizeOptions))},directives:[B.N,$.d,L.n,c.O5,l.BZ,d.YE,l.w1,l.fO,l.Dz,c.sg,l.as,l.nj,m.NW,y.pW,l.ge,j.oG,l.ev,d.nU,A.lW,p.p6,C.Hw,p.VK,p.OP,l.XQ,l.Gk],styles:[""],data:{animation:[I.M,Y.X]}}),i})()}];let nt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[x.Bz.forChild(it)],x.Bz]}),i})(),ot=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[c.ez,nt,g.u5,g.UX,P.q,b.Z,Z.o9,v.Is,J.c,A.ot,C.Ps,N.Fk,Q.LD,D.FA,S.XK,M.To,R.IJ,F.p,z.J,l.p0,m.TU,y.Cv]]}),i})()}}]);