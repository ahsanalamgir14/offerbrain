"use strict";(self.webpackChunkfury=self.webpackChunkfury||[]).push([[218],{6044:(F,p,n)=>{n.d(p,{n:()=>v});var a=n(3668),m=n(515),l=n(4382),g=n(6019),u=n(9112);function d(c,s){if(1&c&&(a.TgZ(0,"div",7),a.TgZ(1,"mat-icon",5),a._uU(2,"chevron_right"),a.qZA(),a.TgZ(3,"div",6),a._uU(4),a.qZA(),a.qZA()),2&c){const t=s.$implicit;a.xp6(4),a.Oqu(t)}}const C=function(){return["/"]};let v=(()=>{class c{constructor(){this.crumbs=[]}ngOnInit(){}}return c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=a.Xpm({type:c,selectors:[["fury-breadcrumbs"]],inputs:{current:"current",crumbs:"crumbs"},decls:11,vars:5,consts:[[1,"title"],["fxLayout","row","fxLayoutAlign","start center",1,"crumbs"],[1,"crumb","home",3,"routerLink"],["class","crumb","fxLayout","row","fxLayoutAlign","start center",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"crumb","current"],[1,"chevron"],[1,"link"],["fxLayout","row","fxLayoutAlign","start center",1,"crumb"]],template:function(t,h){1&t&&(a.TgZ(0,"div",0),a._uU(1),a.qZA(),a.TgZ(2,"div",1),a.TgZ(3,"a",2),a._uU(4,"Home"),a.qZA(),a.YNc(5,d,5,1,"div",3),a.TgZ(6,"div",4),a.TgZ(7,"mat-icon",5),a._uU(8,"chevron_right"),a.qZA(),a.TgZ(9,"div",6),a._uU(10),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(1),a.Oqu(h.current),a.xp6(2),a.Q6J("routerLink",a.DdM(4,C)),a.xp6(2),a.Q6J("ngForOf",h.crumbs),a.xp6(5),a.Oqu(h.current))},directives:[m.xw,m.Wh,l.yS,g.sg,u.Hw],styles:["[_nghost-%COMP%]{display:block}.title[_ngcontent-%COMP%]{font:var(--font-title);font-weight:400}.crumb[_ngcontent-%COMP%], .link[_ngcontent-%COMP%]{text-decoration:none;transition:color .4s cubic-bezier(.25,.8,.25,1);font:var(--font-body-1)}.link[_ngcontent-%COMP%]{cursor:pointer}.chevron[_ngcontent-%COMP%]{font-size:18px;height:18px;width:18px;margin-left:6px;margin-right:6px;-webkit-user-select:none;user-select:none;cursor:default}"]}),c})()},7635:(F,p,n)=>{n.d(p,{d:()=>m});var a=n(3668);let m=(()=>{class l{constructor(){}}return l.\u0275fac=function(u){return new(u||l)},l.\u0275dir=a.lG2({type:l,selectors:[["","furyPageLayoutContent",""],["fury-page-layout-content"]],hostAttrs:[1,"fury-page-layout-content"]}),l})()},1136:(F,p,n)=>{n.d(p,{N:()=>m});var a=n(3668);let m=(()=>{class l{constructor(){this.mode="simple"}get isCard(){return"card"===this.mode}get isSimple(){return"simple"===this.mode}}return l.\u0275fac=function(u){return new(u||l)},l.\u0275dir=a.lG2({type:l,selectors:[["","furyPageLayout",""],["fury-page-layout"]],hostAttrs:[1,"fury-page-layout"],hostVars:4,hostBindings:function(u,d){2&u&&a.ekj("fury-page-layout-card",d.isCard)("fury-page-layout-simple",d.isSimple)},inputs:{mode:"mode"}}),l})()},8218:(F,p,n)=>{n.r(p),n.d(p,{ViewFormulasModule:()=>nt});var a=n(6019),m=n(9133),l=n(6113),g=n(4625),u=n(7794),d=n(4382),C=n(4762),v=n(2968),c=n(2262),s=n(240),t=n(3668),h=n(5304),_=n(4099),w=n(238);let D=(()=>{class o{constructor(e){this.apiService=e,this.formulasGetResponse=new _.X([]),this.formulasGetResponse$=this.formulasGetResponse.asObservable()}getFormulas(){return(0,C.mG)(this,void 0,void 0,function*(){return yield this.apiService.getData("formulas").then(e=>e.json()).then(e=>{this.orders=e,this.formulasGetResponse.next(e)}),this.orders})}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(w.s))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var P=n(6044),A=n(1136),M=n(7635),S=n(4643),x=n(9009),V=n(904),T=n(86),b=n(3530),Z=n(9112);function L(o,i){1&o&&t._UZ(0,"mat-progress-bar",19)}function O(o,i){1&o&&(t.TgZ(0,"th",20),t.TgZ(1,"mat-checkbox",21),t.NdJ("click",function(r){return r.stopPropagation()}),t.qZA(),t.qZA())}function N(o,i){1&o&&(t.TgZ(0,"td",22),t.TgZ(1,"mat-checkbox",21),t.NdJ("click",function(r){return r.stopPropagation()}),t.qZA(),t.qZA())}function R(o,i){1&o&&t._UZ(0,"th",23)}function U(o,i){if(1&o&&(t.TgZ(0,"td",24),t._UZ(1,"img",25),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.MGl("src","http://i.pravatar.cc/30?u=",e.name,"",t.LSH)}}function B(o,i){if(1&o&&(t.TgZ(0,"th",30),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.name,"")}}function E(o,i){if(1&o&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&o){const e=i.$implicit,r=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e[r.property]," ")}}function I(o,i){if(1&o&&(t.ynx(0,27),t.YNc(1,B,2,1,"th",28),t.YNc(2,E,2,1,"td",29),t.BQk()),2&o){const e=t.oxw().$implicit;t.Q6J("matColumnDef",e.property)}}function J(o,i){if(1&o&&(t.ynx(0),t.YNc(1,I,3,1,"ng-container",26),t.BQk()),2&o){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",e.isModelProperty)}}function Q(o,i){1&o&&t._UZ(0,"th",32)}function G(o,i){if(1&o&&(t.TgZ(0,"td",22),t.TgZ(1,"button",33),t.NdJ("click",function(r){return r.stopPropagation()}),t.TgZ(2,"mat-icon"),t._uU(3,"more_horiz"),t.qZA(),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("matMenuTriggerFor",e.actionsMenu)}}function Y(o,i){1&o&&t._UZ(0,"tr",34)}function z(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"tr",35),t.NdJ("click",function(){const y=t.CHM(e).$implicit;return t.oxw().updateCustomer(y)}),t.qZA()}}const H=[{path:"",component:(()=>{class o{constructor(e,r){this.dialog=e,this.viewFormulasService=r,this.isLoading=!1,this.totalRows=0,this.pageSize=25,this.currentPage=0,this.pageSizeOptions=[5,10,25,100],this.filters={},this.columns=[{name:"Checkbox",property:"checkbox",visible:!1},{name:"Name",property:"name",visible:!0,isModelProperty:!0},{name:"Shortcut",property:"shortcut_name",visible:!0,isModelProperty:!0},{name:"Campaign",property:"campaign_name",visible:!0,isModelProperty:!0},{name:"Column Name",property:"column_name",visible:!0,isModelProperty:!0},{name:"Expression",property:"expression",visible:!0,isModelProperty:!0},{name:"created At",property:"created_at",visible:!1,isModelProperty:!0}]}get visibleColumns(){return this.columns.filter(e=>e.visible).map(e=>e.property)}ngOnInit(){this.getSubscription=this.viewFormulasService.formulasGetResponse$.subscribe(e=>this.manageGetResponse(e)),this.getData(),this.dataSource=new s.by}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}pageChanged(e){this.pageSize=e.pageSize,this.currentPage=e.pageIndex,this.getData()}getData(){return(0,C.mG)(this,void 0,void 0,function*(){this.isLoading=!0,yield this.viewFormulasService.getFormulas().then(e=>{this.formulas=e.data,this.dataSource.data=e.data,setTimeout(()=>{this.paginator.pageIndex=this.currentPage,this.paginator.length=e.pag.count}),this.isLoading=!1},e=>{this.isLoading=!1})})}manageGetResponse(e){e.status?(this.formulas=e.data,this.dataSource.data=e.data,setTimeout(()=>{this.paginator.pageIndex=this.currentPage,this.paginator.length=e.pag.count}),this.isLoading=!1):this.isLoading=!1}onFilterChange(e){!this.dataSource||(e=(e=e.trim()).toLowerCase(),this.dataSource.filter=e)}ngOnDestroy(){}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(h.uw),t.Y36(D))},o.\u0275cmp=t.Xpm({type:o,selectors:[["fury-view-formulas"]],viewQuery:function(e,r){if(1&e&&(t.Gf(v.NW,7),t.Gf(c.YE,7)),2&e){let f;t.iGM(f=t.CRH())&&(r.paginator=f.first),t.iGM(f=t.CRH())&&(r.sort=f.first)}},inputs:{columns:"columns"},decls:21,vars:11,consts:[[1,"padding"],["current","View Formulas"],["mode","simple"],["name","Formulas",3,"columns","filterChange"],["mode","indeterminate",4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","checkbox"],["class","actions-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],["matColumnDef","image"],["class","image-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","image-cell","mat-cell","",4,"matCellDef"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["mode","indeterminate"],["mat-header-cell","",1,"actions-cell"],["color","primary",3,"click"],["mat-cell","",1,"actions-cell"],["mat-header-cell","",1,"image-cell"],["mat-cell","",1,"image-cell"],[3,"src"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"actions-cell"],["type","button","mat-icon-button","",3,"matMenuTriggerFor","click"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"fury-breadcrumbs",1),t.qZA(),t.TgZ(2,"fury-page-layout",2),t.TgZ(3,"fury-page-layout-content"),t.TgZ(4,"fury-list",3),t.NdJ("filterChange",function(y){return r.onFilterChange(y)}),t.YNc(5,L,1,0,"mat-progress-bar",4),t.TgZ(6,"table",5),t.ynx(7,6),t.YNc(8,O,2,0,"th",7),t.YNc(9,N,2,0,"td",8),t.BQk(),t.ynx(10,9),t.YNc(11,R,1,0,"th",10),t.YNc(12,U,2,1,"td",11),t.BQk(),t.YNc(13,J,2,1,"ng-container",12),t.ynx(14,13),t.YNc(15,Q,1,0,"th",14),t.YNc(16,G,4,1,"td",8),t.BQk(),t.YNc(17,Y,1,0,"tr",15),t.YNc(18,z,1,0,"tr",16),t.qZA(),t.TgZ(19,"mat-paginator",17,18),t.NdJ("page",function(y){return r.pageChanged(y)}),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.Q6J("@fadeInUp",void 0),t.xp6(1),t.Q6J("columns",r.columns),t.xp6(1),t.Q6J("ngIf",r.isLoading),t.xp6(1),t.Q6J("dataSource",r.dataSource),t.xp6(7),t.Q6J("ngForOf",r.columns),t.xp6(4),t.Q6J("matHeaderRowDef",r.visibleColumns),t.xp6(1),t.Q6J("matRowDefColumns",r.visibleColumns),t.xp6(1),t.Q6J("length",r.totalRows)("pageIndex",r.currentPage)("pageSize",r.pageSize)("pageSizeOptions",r.pageSizeOptions))},directives:[P.n,A.N,M.d,S.n,a.O5,s.BZ,c.YE,s.w1,s.fO,s.Dz,a.sg,s.as,s.nj,v.NW,x.pW,s.ge,V.oG,s.ev,c.nU,T.lW,b.p6,Z.Hw,s.XQ,s.Gk],styles:[""]}),o})()}];let W=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[d.Bz.forChild(H)],d.Bz]}),o})();var $=n(9198),j=n(6153),K=n(138),k=n(9859),X=n(6400),q=n(8727),tt=n(6731),et=n(3050),ot=n(8898);let nt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[a.ez,W,m.u5,m.UX,u.q,$.Z,j.o9,h.Is,K.c,T.ot,Z.Ps,k.Fk,X.LD,q.FA,tt.XK,et.To,ot.IJ,g.p,l.J,s.p0,v.TU,x.Cv]]}),o})()}}]);